# 智能标签系统

SublinkPro 的自动标签系统是本项目最强大的功能之一，让节点管理从「手动编辑」升级为「规则驱动」。

---

## 💡 核心优势

| 优势 | 说明 |
|:---|:---|
| **🚫 零代码筛选** | 通过标签规则给节点打标签后，订阅可直接使用标签进行复杂条件筛选，**无需编写任何代码或脚本** |
| **🔄 动态自动化** | 标签随节点状态自动更新，例如测速后延迟变高的节点会自动从「低延迟」标签中移除 |
| **📊 多维度分类** | 支持按延迟、速度、国家、协议、来源、节点名等多种条件组合打标签 |
| **🎛️ 灵活运算符** | 支持等于、包含、大于、小于、正则匹配等丰富的条件运算符 |
| **♻️ 互斥组管理** | 同一互斥组内的标签自动替换，确保节点分类唯一且清晰 |

---

## 📋 使用场景示例

```
场景一：按延迟分级
├── 规则：延迟 < 100ms → 标签「⚡极速」
├── 规则：延迟 100-300ms → 标签「✅正常」
└── 规则：延迟 > 300ms → 标签「🐌较慢」

场景二：按地区分类
├── 规则：国家 = 香港 → 标签「🇭🇰香港」
├── 规则：国家 = 日本 → 标签「🇯🇵日本」
└── 规则：国家 = 美国 → 标签「🇺🇸美国」

场景三：订阅筛选（无需编码！）
├── 订阅A：标签白名单 = 「⚡极速」「🇭🇰香港」→ 只返回香港极速节点
└── 订阅B：标签黑名单 = 「🐌较慢」→ 排除所有慢速节点
```

---

## 标签互斥组

> [!TIP]
> **标签互斥组使用场景**：创建「优秀」、「良好」、「差」三个标签并设为同组「速度评级」，测速时节点只会保留最新的评级，避免标签堆积。

互斥组确保同一组内的标签在同一节点上只保留一个。当新标签被匹配时，同组的旧标签会被自动移除。

**适用场景：**
- 速度评级（优/良/差）
- 延迟分级（极速/正常/较慢）
- 稳定性评级（稳定/不稳定）

---

## 标签规则配置

在「标签管理」页面，您可以为每个标签设置自动匹配规则：

### 支持的条件字段

| 字段 | 说明 |
|:---|:---|
| 节点名称 | 节点的显示名称 |
| 国家/地区 | 节点的落地位置 |
| 协议类型 | ss/ssr/vmess/vless/trojan 等 |
| 延迟(ms) | 节点延迟测试结果 |
| 速度(MB/s) | 节点速度测试结果 |
| 来源机场 | 节点所属的机场订阅 |

### 支持的运算符

| 运算符 | 说明 |
|:---|:---|
| 等于 | 精确匹配 |
| 不等于 | 排除匹配 |
| 包含 | 部分匹配（字符串） |
| 不包含 | 排除部分匹配 |
| 大于 | 数值比较 |
| 小于 | 数值比较 |
| 正则匹配 | 使用正则表达式 |

---

## 订阅中使用标签

创建订阅时，可以设置：

- **标签白名单**：只包含拥有指定标签的节点
- **标签黑名单**：排除拥有指定标签的节点

白名单和黑名单可以组合使用，系统会先应用白名单筛选，再排除黑名单中的节点。
